{"version":3,"sources":["../Finance_api/server.js"],"names":["express","require","bodyParser","cors","cookieParser","mongoose","passport","users","index","expenses","ejs","path","expressValidator","session","flash","app","use","urlencoded","extended","json","secret","resave","saveUninitialized","cookie","maxAge","set","join","__dirname","engine","renderFile","static","options","useNewUrlParser","useCreateIndex","useUnifiedTopology","uri","connect","then","connected","console","log","catch","err","initialize","port","process","env","PORT","listen","module","exports"],"mappings":"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","sourcesContent":["const express = require('express');\r\nconst bodyParser = require('body-parser');\r\nconst cors = require('cors');\r\nconst cookieParser = require('cookie-parser');\r\nconst mongoose = require('mongoose');\r\nconst passport = require('./config/passport');\r\nconst users = require('./routes/users');\r\nconst index = require('./routes/index');\r\nconst expenses = require('./routes/expenses');\r\nconst ejs = require('ejs');\r\nconst path = require('path');\r\nconst expressValidator = require('express-validator');\r\nconst session = require('express-session');\r\nconst flash = require('express-flash');\r\n\r\n// require('dotenv').config();\r\nconst app = express();\r\n//BODY PARSE\r\napp.use(\r\n  bodyParser.urlencoded({\r\n    extended: false\r\n  })\r\n);\r\napp.use(bodyParser.json());\r\n\r\n//CORS\r\napp.use(flash());\r\napp.use(cors());\r\napp.use(express.json());\r\napp.use(expressValidator());\r\napp.use(session({\r\n  secret: 'secret',\r\n  resave: true,\r\n  saveUninitialized: true,\r\n  cookie: {\r\n      maxAge: 1209600000\r\n  },\r\n}));\r\n\r\napp.set('views', path.join(__dirname, 'views'));\r\napp.set('view engine', 'html');\r\napp.engine('html', ejs.renderFile);\r\n\r\n//Set the public folder\r\napp.use(express.static(path.join(__dirname, 'public')));\r\n\r\n//CONNECT MONGODB\r\nconst options = {\r\n  useNewUrlParser: true,\r\n  useCreateIndex: true,\r\n  useUnifiedTopology: true\r\n}\r\nconst uri =\r\n\"mongodb://fintrack:fintrack12345@ds153412.mlab.com:53412/fintrack\";\r\nmongoose.connect(uri, options)\r\n  .then(connected => console.log(`Database connection established`))\r\n  .catch(err => console.log(`There was an error connecting to database, the err is ${err}`));\r\n  \r\n// Passport middleware\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\n// Routes\r\napp.use(users);\r\napp.use(index);\r\napp.use(expenses);\r\n\r\nconst port = process.env.PORT || 6000;\r\napp.listen(port, () => {\r\n  console.log(`Server is running on port: ${port}`);\r\n});\r\n\r\nmodule.exports = app;"],"file":"server.js"}