{"version":3,"sources":["../../Finance_api/routes/expenses.js"],"names":["express","require","router","Router","Expenses","post","req","res","next","body","user","id","amount","parseInt","create","flash","redirect","e","updateOne","_id","expenseId","deleteOne","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAMC,QAAQ,GAAGH,OAAO,CAAC,oBAAD,CAAxB,C,CAEA;;;AACAC,MAAM,CAACG,IAAP,CAAY,kBAAZ,EAAgC,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACtD,MAAG;AACCF,IAAAA,GAAG,CAACG,IAAJ,CAASC,IAAT,GAAgBJ,GAAG,CAACI,IAAJ,CAASC,EAAzB;AACAL,IAAAA,GAAG,CAACG,IAAJ,CAASG,MAAT,GAAkBC,QAAQ,CAACP,GAAG,CAACG,IAAJ,CAASG,MAAV,CAA1B;AACA,UAAMR,QAAQ,CAACU,MAAT,CAAgBR,GAAG,CAACG,IAApB,CAAN;AACAH,IAAAA,GAAG,CAACS,KAAJ,CAAU,aAAV,EAAyB,sCAAzB;AACA,WAAOR,GAAG,CAACS,QAAJ,CAAa,MAAb,CAAP;AACH,GAND,CAMC,OAAMC,CAAN,EAAQ;AACLT,IAAAA,IAAI,CAACS,CAAD,CAAJ;AACH;;AAAA;AACJ,CAVD,E,CAYA;;AACAf,MAAM,CAACG,IAAP,CAAY,gBAAZ,EAA8B,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACpD,QAAMJ,QAAQ,CAACc,SAAT,CAAmB;AAACC,IAAAA,GAAG,EAAEb,GAAG,CAACG,IAAJ,CAASW;AAAf,GAAnB,EAA8Cd,GAAG,CAACG,IAAlD,CAAN;AACAH,EAAAA,GAAG,CAACS,KAAJ,CAAU,aAAV,EAAyB,uCAAzB;AACA,SAAOR,GAAG,CAACS,QAAJ,CAAa,MAAb,CAAP;AACH,CAJD,E,CAMA;;AACAd,MAAM,CAACG,IAAP,CAAY,kBAAZ,EAAgC,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACtD,QAAMJ,QAAQ,CAACiB,SAAT,CAAmB;AAACF,IAAAA,GAAG,EAAEb,GAAG,CAACG,IAAJ,CAASW;AAAf,GAAnB,CAAN;AACAd,EAAAA,GAAG,CAACS,KAAJ,CAAU,aAAV,EAAyB,uCAAzB;AACA,SAAOR,GAAG,CAACS,QAAJ,CAAa,MAAb,CAAP;AACH,CAJD;AAMAM,MAAM,CAACC,OAAP,GAAiBrB,MAAjB","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst Expenses = require('../models/expenses');\r\n\r\n// Create a new expenses\r\nrouter.post('/expenses/create', async (req, res, next) => {\r\n    try{\r\n        req.body.user = req.user.id;\r\n        req.body.amount = parseInt(req.body.amount);\r\n        await Expenses.create(req.body);\r\n        req.flash('success_msg', 'Record has been created successfully');\r\n        return res.redirect('back');\r\n    }catch(e){\r\n        next(e);\r\n    };\r\n});\r\n\r\n// Edit an expense\r\nrouter.post('/expenses/edit', async (req, res, next) => {\r\n    await Expenses.updateOne({_id: req.body.expenseId}, req.body);\r\n    req.flash('success_msg', 'Expense has been updated successfully');\r\n    return res.redirect('back');\r\n});\r\n\r\n// Delete an expense\r\nrouter.post('/expenses/delete', async (req, res, next) => {\r\n    await Expenses.deleteOne({_id: req.body.expenseId});\r\n    req.flash('success_msg', 'Expense has been deleted successfully');\r\n    return res.redirect('back');\r\n});\r\n\r\nmodule.exports = router;"],"file":"expenses.js"}